Урок 25. Хостинг. Домашнее задание
Задание
Необходимо опубликовать в интернете свое приложение «Инстаграмм», разработанное на курсе Flask.

Как выполнять задание
Шаг 1

Создать аккаунт в Яндекс.Облаке. При подключении дадут бесплатный грант на 4000 р. — этого хватит для выполнения домашнего задания.

Шаг 2

Создать виртуальную машину в Яндекс.Облаке. Выбирайте операционную систему Ubuntu.

Шаг 3

Создать DNS-зону через сервис Freenom и указать в ней NS сервера Яндекса ns1.yandexcloud.net и ns2.yandexcloud.net. Используйте зону .ga, на ней много свободных доменов. Например: skypro-malenko.ga.

Шаг 4

Создать DNS-зону в Яндекс.Облаке. Ссылка для создания.

Шаг 5

Создать A-запись DNS, ведущую на адрес вашей виртуальной машины.

Шаг 6

Установить Git.

Шаг 7

Клонировать репозиторий на виртуальную машину через Git.

Шаг 8

Шаг 9

Создать окружение. Установить пакеты. Добавить UNIT-файл, описывающий запуск вашего проекта, для его работы без вашего подключения.

Запустить приложение. Создать файл flask-app.service.

Установка gunicorn - sudo pip install gunicorn.

Запуск: gunicorn app:app -b 0.0.0.0:80.

Запуск с n потоками: gunicorn app:app -b 0.0.0.0:80 -w n.

Обычно запускают до 4 потоков.

Шаг 10

Запустить приложение через systemctl (reload, enable, start). Проверить приложение.

Шаг 11

Зарегистрировать специального пользователя Skyprouser и задать ему пароль в соответствии с алгоритмом добавления пользователя.

Алгоритм добавления пользователя:
ssh @.
adduser skypro
сохраняем <пароль> (нужно поставить сложный),
остальные настройки оставляем по умолчанию.
usermod -aG sudo skypro.
vim /etc/ssh/sshd_config
изменяем строчку «PasswordAuthentication no» на «PasswordAuthentication yes».
sudo service ssh restart.
Присылаем IP-адрес, имя пользователя (skypro) и пароль проверяющему.
Как сдавать задание
Прикрепите в поле «Домашнее задание»:

Адрес вашего проекта, созданный на этапе 3.
Примеры запросов, с помощью которых можно убедиться, что ваш проект корректно работает с базой данной.
Пароль, заданный для Skyprouser на этапе 10.
bulb **Пример:** адрес проекта: [http://skypro-python-test.ga](http://skypro-python-test.ga/), создание пользователя через Postman, метод, выдающий всех пользователей в Postman, пароль пользователя Skyprouser: <пароль>.
Проверьте себя
Ниже представлены критерии выполнения домашнего задания:

 По указанному адресу ваше приложение доступно.
 Все примеры запросов корректно отрабатывают и показывают, что ваше приложение работает с БД. Например, есть метод создания пользователя и списка пользователей, а после создания пользователя запрос на список выводит пользователя.
 Процесс вашего проекта запущен через Systemd.
